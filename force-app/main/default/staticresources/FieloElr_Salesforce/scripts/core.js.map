{"version":3,"sources":["programSelector.js","elearning.js","recentOrder.js","questionManage.js","questionWizard.js","answerOptions.js"],"names":["FieloProgramSelectorELR","element","this","element_","init","window","prototype","Constant_","PROGRAM","CssClasses_","PAGINATOR","onChange","console","log","filter","getProgramId_","forEach","call","programActions_","action","FieloButton","setParameter","programId_","field_","Visualforce","remoting","Manager","invokeAction","escape","e","fielo","util","spinner","FieloSpinner","hide","listOfPaginators_","paginator","FieloPaginator","setFilters","setPage","getRecords","callback","FieloFormElement","get","componentHandler","upgradeElement","bind","document","getElementsByClassName","querySelectorAll","register","constructor","classAsString","cssClass","widget","FieloELearning","COURSES_CONTAINER","CREATE_COURSE","TABS","PROGRAM_SELECTOR","VIEW_SELECTOR","TITLE","HIDE","LANDING_PAGE","COURSE_VIEW_PAGE","MODULE_VIEW_PAGE","RECENT_RECORDS","RECENT_REORDER","RELATED_MODEL","COURSES","LANDING_SEGMENT_CONTROLLER","VIEW_SEGMENT_CONTROLLER","setDefaults_","title_","createcourse_","viewSelector_","undefined","FieloFilter","updateViewTitle","memberId_","itemActive_","textContent","String","trim","renderSegments_","result","segments","activeForm_","elements_","FieloELR__Segment__c","newSegments","segment","push","id","Id","label","Name","setAttribute","JSON","stringify","configMultiselect_","getSegments","segmentController","show","warn","disableProgramChange_","$","addClass","disableCourseChange_","disableModuleChange_","hideRelatedColumn","fieldName","items","find","currentField","item","toggle","parent","index","column","closest","cells","reorderRenderRecords_","records","recent","FieloRecentRecords","renderRecords_","recentReorder","FieloRecentReorder","removeGrips","addGrips","decodeEntities","encodedString","textArea","createElement","innerHTML","value","fixJSON","JSONField","set","programChangeProxy_","_this","FieloForm","parameters_","FieloELR__Program__c","RefreshSegments","on","event","target","getPaginator","courseDependencyRelated","FieloRelatedRecords","renderCallback_","moduleDependencyRelated","saveAsModelForm","endRetrieve","relatedListButtons","rel","querySelector","helper","UI_DISABLED","UI_HANDLE","CONTAINER","FIELD","MODEL","SAVE","GRIPS","CURSOR","container_","sObjectList","sObject","getAttribute","orderByField_","save_","disableReorder","orderValues","processRemoteActionResult_","notify","create","FieloNotify","addMessages","messagesSet","messages","severity","setTheme","location","reload","sortable_","nodeName","columns","each","cell","width","sortable","update","order","revert","cancel","disableSort","rows","row","hasClass","removeClass","enableSort","hasGrips","not","i","field","elem","saveBtn_","addEventListener","FieloQuestionManage","OBJECT_NAME","SAVE_CONTROLLER","DATA_CONTROLLER","DATA_UPGRADED","CANCEL","SECTION_PANEL","FORM_ELEMENT","REORDER","getModule_","moduleSection","fields","cloneId","FieloELR__Module__c","getQuestions_","questionSection","questionSectionfields","fixedFields","shuffleQuestions","FieloELR__ShuffleQuestions__c","FieloELR__Order__c","questionFields_","Object","keys","has","retrieve_","source","getParameters","setParameters_","hasOwnProperty","isEditing","recordId_","retrieveRecordId","fields_","moduleFields_","objectName","join","retrieveHandler_","retrieveProxy_","modal","FieloQuestionManage_retrieve","hash","indexOf","slice","values","__c","key","split","parseDateFromSF","FieloELR__Questions__r","length","HAS_ERROR","elements","ELEMENTS","type","focus","moduleValues","questionValues","moduleNullFields","questionNullFields","FieloELR__PenaltyMode__c","FieloELR__PenaltyPerAttempt__c","FieloELR__IncorrectWeight__c","FieloELR__AttemptsAllowedPerQuestion__c","question","splice","getFields_","moduleFields","changeForm","penaltyMode","weightedQuestions","FieloELR__WeightedQuestions__c","questionPool","FieloELR__QuestionPool__c","incorrectWeight","penaltyPerAttempt","shuffleQuestionsDiv","weightedQuestionsDiv","reorderObject","addInputs","removeInputs","newField","showColumn","addField","correctWeightModel","cloneNode","incorrectWeightModel","penaltyPerAttemptModel","initField","appendChild","removeChild","removeField","correctWeightOutputModel","incorrectWeightOutputModel","penaltyPerAttemptOutputModel","hideColumn","removeAttribute","fieldIndex","dataController","swapAttemptsAllowedPerQuestion","initModels","Set","add","activeField","hidenField","insertBefore","remove","FieloQuestionWizard","FORM_ID_SUFIX","RECENT_CONTAINER","SAVE_NEW","NEXT","NEXT_MULTIPLE_CHOICE","FORM_ELEMENT_LABEL","ANSWER_OPTIONS","ANSWER_OPTIONS_ITEM","DATA_FIELD_NAME","DATA_FIELD_TABLE","OUTPUT_ELEMENT","getQuestion_","form_","getDeletedAnswerIds_","itemContainer","deletedIds","FieloAnswerOptions","deletedItems","getAnswerOptions_","throwMessage","errorMsg","Array","from","FieloQuestionWizard_retrieve","decode","formId_","FieloELR__Type__c","next_","FieloELR__AnswerOptions__r","setAnswers_","str","replace","match","dec","fromCharCode","answers","existingRows","newAnswer","answerItem","answer","unencodeHTML","htmlString","encodedStr","parser","DOMParser","dom","parseFromString","decodedString","body","saveOnly_","isSaveAndNew","hasError_","saveAndNew_","answerOptionValues","answerOptionNullFields","errorMsgs","FieloELR__QuestionText__c","substring","BackEndJSSettings","LABELS","QuestionTextRequired","FieloELR__IsCorrect__c","FieloELR__AnswerOptionText__c","FieloELR__MatchingText__c","error","MatchingTextRequired","AnswerOptionTextRequired","size","questionType_","formIdSufix_","initMultipleChoiceForm","initSingleChoiceForm","initShortAnswerForm","initStatementForm","initMatchingForm","clear","ChooseQuestionType","is","click","answerOptions","radioEnabled_","prop","typeField","formLabel","formLabelText","toggleRemoveButton","showFormField_","enableRadio","hideFormField_","True","False","radioChoice","isCorrectFields","currentTarget","isCorrect","form","questionFields","FieloELR__ShuffleAnswerOptions__c","shuffleAnswerOptions","toggleValue","removeBtns","button","removeColumn","title","answerTextFieldLabel","fieldValue","moduleRetrieveHandler_","arguments","href","getNewURL","url","substr","hideButtons_","deleteAnswer","getUrlParameter","sParam","sParameterName","sPageURL","decodeURIComponent","search","sURLVariables","getModals","getElementById","multipleChoiceform_","OBJECT_TYPE","ITEM","DELETE","NEW","ELEMENT_LABEL","PILL_REMOVE","initItem_","answerOptionItem","deleteBtn_","deleteItem_","recentReorder_","formElementFields","answerOptionId","answerOptionItems_","clearItem_","newAnswerOptionItem_","model_","clone","append","position","sObjectValue","newBtn_"],"mappings":"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","file":"core.js","sourcesContent":["(function() {\n  'use strict';\n\n  /**\n   * @description Controlador para el formulario FieloProgramSelectorELR.\n   * Permite el envío del formulario\n   * Implementa los patrones de diseño definidos por MDL en\n   * {@link https://github.com/jasonmayes/mdl-component-design-pattern}\n   *\n   * @version 1\n   * @author Hugo Gómez Mac Gregor <hugo.gomez@fielo.com>\n   * @param {HTMLElement} element - Elemento que será mejorado.\n   * @constructor\n   */\n  var FieloProgramSelectorELR = function FieloProgramSelectorELR(element) {\n    this.element_ = element;\n\n    // Initialize instance.\n    if (this) {\n      if (typeof this.init === 'function') {\n        this.init();\n      }\n    }\n  };\n  window.FieloProgramSelectorELR = FieloProgramSelectorELR;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloProgramSelectorELR.prototype.Constant_ = {\n    PROGRAM: 'FieloELR__Program__c'\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas por este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloProgramSelectorELR.prototype.CssClasses_ = {\n    PAGINATOR: 'fielosf-paginator'\n  };\n\n  FieloProgramSelectorELR.prototype.onChange = function() {\n    console.log('Changing Program.');\n    var filter = {};\n    this.getProgramId_();\n    [].forEach.call(this.programActions_, function(action) {\n      action.FieloButton.setParameter(this.Constant_.PROGRAM, this.programId_);\n    }, this);\n\n    filter[this.field_] = this.programId_;\n\n    try {\n      Visualforce.remoting.Manager.invokeAction(\n        'FieloELR.BackEndProgramSelectorController.selectProgram',\n        filter[this.field_],\n        function() {},\n        {escape: false}\n      );\n    } catch (e) {\n      // Ya está todo listo. Oculto el spinner\n      console.log(e);\n      fielo.util.spinner.FieloSpinner.hide();\n    }\n\n    // disparo los paginadores\n    [].forEach.call(this.listOfPaginators_, function(paginator) {\n      // Seteo el paginador\n      paginator.FieloPaginator.setFilters(filter);\n      paginator.FieloPaginator.setPage();\n      paginator.FieloPaginator.getRecords();\n    }, this);\n\n    this.callback();\n  };\n\n  /**\n   * Guarda el programId\n   */\n  FieloProgramSelectorELR.prototype.getProgramId_ = function() {\n    this.programId_ = this.element_.FieloFormElement.get('value');\n  };\n\n  /**\n   * Inicializa el elemento\n   */\n  FieloProgramSelectorELR.prototype.init = function() {\n    if (this.element_) {\n      componentHandler.upgradeElement(this.element_);\n      window.FieloProgramSelectorELR = this.onChange.bind(this);\n      this.field_ = 'Program__c';\n      this.getProgramId_();\n      // para evitar el undefined\n      this.callback = function() {};\n\n      // Registro los paginadores de este filtro\n      this.listOfPaginators_ =\n        document.getElementsByClassName(this.CssClasses_.PAGINATOR);\n\n      // Registro los input hidden dependientes del program\n      this.programActions_ = document.querySelectorAll(\n        '.slds-button[data-parameters*=\"' + this.Constant_.PROGRAM + '\"]'\n      );\n    }\n  };\n\n  componentHandler.register({\n    constructor: FieloProgramSelectorELR,\n    classAsString: 'FieloProgramSelectorELR',\n    cssClass: 'fielosf-program-selector-elr',\n    widget: true\n  });\n})();\n","(function() {\n  'use strict';\n\n  /**\n   * @description Controlador para la Landing de Content\n   * Implementa los patrones de diseño definidos por MDL en\n   * {@link https://github.com/jasonmayes/mdl-component-design-pattern}\n   *\n   * @version 1\n   * @author Hugo Gómez Mac Gregor <hugo.gomez@fielo.com>\n   * @param {HTMLElement} element - Elemento que será mejorado.\n   * @constructor\n   */\n  var FieloELearning = function FieloELearning(element) {\n    this.element_ = element;\n\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloELearning = FieloELearning;\n\n /**\n   * Guarda strings para nombres de clases definidas por este componente\n   * que son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloELearning.prototype.CssClasses_ = {\n    // Courses Container\n    COURSES_CONTAINER: 'fielosf-courses-container',\n    // New Course Button\n    CREATE_COURSE: 'fielosf-create-course',\n    // Tabs\n    TABS: 'slds-tabs--default',\n    // Program Selector\n    PROGRAM_SELECTOR: 'fielosf-program-selector',\n    // Filter\n    VIEW_SELECTOR: 'fielosf-view-selector',\n    // Title\n    TITLE: 'slds-page-header__title',\n    // Hide\n    HIDE: 'slds-hide',\n    // LANDING PAGE\n    LANDING_PAGE: 'fielosf-elearning-landing',\n    // COURSE VIEW PAGE\n    COURSE_VIEW_PAGE: 'fielosf-course-view',\n    // MODULE VIEW PAGE\n    MODULE_VIEW_PAGE: 'fielosf-module-view',\n    // RECENT RECORDS\n    RECENT_RECORDS: 'fielosf-recent-records',\n    // RECENT REORDER\n    RECENT_REORDER: 'fielosf-recent-reorder',\n    // RELATED MODEL\n    RELATED_MODEL: 'fielosf-related-records__model'\n  };\n\n    /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloELearning.prototype.Constant_ = {\n    COURSES: 'courses-panel',\n    LANDING_SEGMENT_CONTROLLER: 'FieloELR.CourseLandingController.getSegments', // eslint-disable-line max-len\n    VIEW_SEGMENT_CONTROLLER: 'FieloELR.CourseViewController.getSegments'\n  };\n\n  /**\n  * Setea valoes por defecto\n  */\n  FieloELearning.prototype.setDefaults_ = function() {\n    // tabs\n    this.title_ =\n      this.element_.getElementsByClassName(this.CssClasses_.TITLE)[0];\n\n    // New Button\n    this.createcourse_ = this.element_\n      .getElementsByClassName(this.CssClasses_.CREATE_COURSE)[0];\n\n    // Object to get the data\n    // Courses\n    this.viewSelector_ = this.element_\n      .getElementsByClassName(this.CssClasses_.VIEW_SELECTOR)[0] === undefined ?\n        null :\n        this.element_.getElementsByClassName(\n          this.CssClasses_.VIEW_SELECTOR)[0].FieloFilter;\n    if (this.viewSelector_ !== null) {\n      this.viewSelector_.callback = this.updateViewTitle.bind(this);\n    }\n\n    this.memberId_ = null;\n    this.updateViewTitle();\n  };\n\n  FieloELearning.prototype.updateViewTitle = function() {\n    if (this.viewSelector_ !== undefined && this.viewSelector_ !== null) {\n      if (this.viewSelector_.itemActive_ !== undefined &&\n          this.viewSelector_.itemActive_ !== null) {\n        this.title_.textContent =\n          String(this.viewSelector_.itemActive_.textContent).trim() +\n            ' Courses';\n      }\n    }\n  };\n\n  FieloELearning.prototype.renderSegments_ = function(result) {\n    fielo.util.spinner.FieloSpinner.hide();\n    var segments = this.activeForm_.elements_.FieloELR__Segment__c;\n    if (segments) {\n      var newSegments = [];\n      result.forEach(function(segment) {\n        newSegments.push({id: segment.Id, label: segment.Name});\n      });\n      segments.setAttribute('data-options', JSON.stringify(newSegments));\n      segments.FieloFormElement.configMultiselect_();\n    }\n  };\n\n  FieloELearning.prototype.getSegments = function() {\n    var segmentController =\n      document.getElementsByClassName(\n        this.CssClasses_.LANDING_PAGE)[0] === undefined ?\n          this.Constant_.VIEW_SEGMENT_CONTROLLER :\n            this.Constant_.LANDING_SEGMENT_CONTROLLER;\n\n    fielo.util.spinner.FieloSpinner.show();\n    try {\n      Visualforce.remoting.Manager.invokeAction(\n        segmentController,\n        this.memberId_,\n        this.renderSegments_.bind(this),\n        {\n          escape: false\n        }\n      );\n    } catch (e) {\n      console.warn(e);\n    }\n  };\n\n  FieloELearning.prototype.disableProgramChange_ = function() {\n    if (document.getElementsByClassName(\n        this.CssClasses_.COURSE_VIEW_PAGE)[0] !== undefined) {\n      $('[data-field-name=\"FieloELR__Program__c\"]')\n      .addClass('disabled');\n    }\n  };\n\n  FieloELearning.prototype.disableCourseChange_ = function() {\n    if (document.getElementsByClassName(\n        this.CssClasses_.COURSE_VIEW_PAGE)[0] !== undefined ||\n        document.getElementsByClassName(\n        this.CssClasses_.MODULE_VIEW_PAGE)[0] !== undefined) {\n      $('[data-field-name=\"FieloELR__Course__c\"]')\n      .addClass('disabled');\n    }\n  };\n\n  FieloELearning.prototype.disableModuleChange_ = function() {\n    if (document.getElementsByClassName(\n        this.CssClasses_.MODULE_VIEW_PAGE)[0] !== undefined) {\n      $('[data-field-name=\"FieloELR__Module__c\"]')\n      .addClass('disabled');\n    }\n  };\n\n  FieloELearning.prototype.hideRelatedColumn = function(element, fieldName) {\n    var items = $(element)\n      .find('.' + this.CssClasses_.RELATED_MODEL);\n    var currentField = null;\n\n    [].forEach.call(items, function(item) {\n      currentField = $(item)\n        .find('[data-field=\"' + fieldName + '\"]')[0];\n      if (currentField) {\n        $(currentField).toggle(false);\n        $(currentField).parent().toggle(false);\n      }\n    }, this);\n\n    if (currentField) {\n      var index = $(currentField).parent().index();\n      var column = $(currentField).closest('table')\n        .find('thead')\n          .find('tr')[0].cells[index];\n      $(column).toggle(false);\n    }\n  };\n\n  FieloELearning.prototype.reorderRenderRecords_ = function(records) {\n    var recent =\n      $('.' + this.CssClasses_.RECENT_RECORDS)[0]\n        .FieloRecentRecords;\n    recent.renderRecords_(records);\n    var recentReorder =\n      $('.' + this.CssClasses_.RECENT_REORDER)[0]\n        .FieloRecentReorder;\n    recentReorder.removeGrips();\n    recentReorder.addGrips();\n  };\n\n  FieloELearning.prototype.decodeEntities = function(encodedString) {\n    var textArea = document.createElement('textarea');\n    textArea.innerHTML = encodedString;\n    return textArea.value;\n  };\n\n  FieloELearning.prototype.fixJSON = function() {\n    var JSONField =\n      $('#formModel').find('[data-field-name=\"FieloPLT__JSON__c\"]')[0];\n    if (JSONField) {\n      JSONField.FieloFormElement.set('value',\n        this.decodeEntities(JSONField.FieloFormElement.get('value'))\n      );\n    }\n  };\n\n  FieloELearning.prototype.programChangeProxy_ = function(value) {\n    var _this = document.getElementsByClassName(\n      'fielosf-elearning')[0].FieloELearning;\n    _this.activeForm_ = $(this.element_).closest('.slds-form')[0].FieloForm;\n    if (value && value.id !== _this.memberId_) {\n      _this.activeForm_.parameters_.FieloELR__Program__c =// eslint-disable-line camelcase\n        $(_this.activeForm_.element_)\n          .find('[data-field-name=\"FieloELR__Program__c\"]')[0]\n            .FieloFormElement.get('value');\n      _this.memberId_ = value.id;\n      _this.getSegments();\n    }\n  };\n  window.RefreshSegments = // eslint-disable-line camelcase\n    FieloELearning.prototype.programChangeProxy_; // eslint-disable-line no-undef\n   /**\n   * Inicializa el elemento\n   */\n  FieloELearning.prototype.init = function() {\n    if (this.element_) {\n      this.setDefaults_();\n\n      $(this.element_).on('shown.aljs.modal', function() {\n        var _this = document.getElementsByClassName(\n          'fielosf-elearning')[0];\n        _this.FieloELearning.disableProgramChange_();\n      });\n\n      $('#FieloELR__Module__cFormNew').on('shown.aljs.modal', function() {\n        var _this = document.getElementsByClassName(\n          'fielosf-elearning')[0];\n        _this.FieloELearning.disableCourseChange_();\n      });\n\n      $('#FieloELR__Module__cForm').on('shown.aljs.modal', function() {\n        var _this = document.getElementsByClassName(\n          'fielosf-elearning')[0];\n        _this.FieloELearning.disableCourseChange_();\n      });\n\n      $('#FieloELR__CourseDependency__cFormNew')\n        .on('shown.aljs.modal', function() {\n          var _this = document.getElementsByClassName(\n            'fielosf-elearning')[0];\n          _this.FieloELearning.disableCourseChange_();\n        });\n\n      $('#FieloELR__CourseDependency__cForm')\n        .on('shown.aljs.modal', function() {\n          var _this = document.getElementsByClassName(\n            'fielosf-elearning')[0];\n          _this.FieloELearning.disableCourseChange_();\n        });\n\n      $('#FieloELR__Question__cForm').on('shown.aljs.modal', function() {\n        var _this = document.getElementsByClassName(\n          'fielosf-elearning')[0];\n        _this.FieloELearning.disableModuleChange_();\n      });\n\n      $('#FieloELR__Question__cFormNew').on('shown.aljs.modal', function() {\n        var _this = document.getElementsByClassName(\n          'fielosf-elearning')[0];\n        _this.FieloELearning.disableModuleChange_();\n      });\n\n      $('#FieloELR__ModuleDependency__cForm').on(\n          'shown.aljs.modal', function() {\n            var _this = document.getElementsByClassName(\n              'fielosf-elearning')[0];\n            _this.FieloELearning.disableModuleChange_();\n          });\n\n      $('#FieloELR__ModuleDependency__cFormNew').on(\n        'shown.aljs.modal', function() {\n          var _this = document.getElementsByClassName(\n          'fielosf-elearning')[0];\n          _this.FieloELearning.disableModuleChange_();\n        });\n\n      $('#FieloELR__Question__cFormWizard-multiplechoice').on(\n        'shown.aljs.modal', function() {\n          var _this = document.getElementsByClassName(\n          'fielosf-elearning')[0];\n          _this.FieloELearning.disableModuleChange_();\n        });\n\n      $('#FieloELR__Question__cForm-multiplechoice').on(\n        'shown.aljs.modal', function() {\n          var _this = document.getElementsByClassName(\n          'fielosf-elearning')[0];\n          _this.FieloELearning.disableModuleChange_();\n        });\n\n      $('#FieloELR__Module__cFormReorder').on(\n        'shown.aljs.modal', function(event) {\n          var _this = document.getElementsByClassName(\n            'fielosf-elearning')[0];\n          var recent =\n            $(event.target)\n              .find('.' + _this.FieloELearning.CssClasses_.RECENT_RECORDS)[0];\n          var paginator =\n            recent.FieloRecentRecords.getPaginator();\n          if (paginator) {\n            if (paginator.FieloPaginator) {\n              paginator.FieloPaginator.setPage();\n              paginator.FieloPaginator.getRecords();\n              paginator.FieloPaginator.callback =\n                _this.FieloELearning\n                  .reorderRenderRecords_.bind(_this.FieloELearning);\n            }\n          }\n        });\n      var courseDependencyRelated =\n        $('#FieloELR__CourseDependency__cRelatedList')[0];\n      if (courseDependencyRelated) {\n        this.hideRelatedColumn(courseDependencyRelated, 'Name');\n        courseDependencyRelated.FieloRelatedRecords\n          .renderCallback_ =\n            this.hideRelatedColumn.bind(this, courseDependencyRelated, 'Name');\n      }\n      var moduleDependencyRelated =\n        $('#FieloELR__ModuleDependency__cRelatedList')[0];\n      if (moduleDependencyRelated) {\n        this.hideRelatedColumn(moduleDependencyRelated, 'Name');\n        moduleDependencyRelated.FieloRelatedRecords\n          .renderCallback_ =\n            this.hideRelatedColumn.bind(this, moduleDependencyRelated, 'Name');\n      }\n\n      var saveAsModelForm =\n        $('#formModel')[0];\n      if (saveAsModelForm) {\n        saveAsModelForm.FieloForm.endRetrieve = this.fixJSON.bind(this);\n      }\n\n      var relatedListButtons = document.querySelectorAll('.bRelatedList');\n      relatedListButtons.forEach(function(rel) {\n        $(rel.querySelector('.pShowMore')).toggle(false);\n      });\n    }\n  };\n\n  // El componente se registra por si solo.\n  // Asume que el componentHandler esta habilitado en el scope global\n  fielo.helper.register({\n    constructor: FieloELearning,\n    classAsString: 'FieloELearning',\n    cssClass: 'fielosf-elearning',\n    widget: true\n  });\n})();\n\n","(function() {\n  'use strict';\n\n  /**\n   * @description Controlador para la Landing de Content\n   * Implementa los patrones de diseño definidos por MDL en\n   * {@link https://github.com/jasonmayes/mdl-component-design-pattern}\n   *\n   * @version 1\n   * @author Nicolás Alejandro Soberón <nicolas.soberon@fielo.com>\n   * @param {HTMLElement} element - Elemento que será mejorado.\n   * @constructor\n   */\n  var FieloRecentReorder = function FieloRecentReorder(element) {\n    this.element_ = element;\n\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloRecentReorder = FieloRecentReorder;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloRecentReorder.prototype.Constant_ = {\n    UI_DISABLED: 'ui-state-disabled',\n    UI_HANDLE: 'ui-sortable-handle'\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas por este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloRecentReorder.prototype.CssClasses_ = {\n    CONTAINER: 'fielosf-recent-records__container',\n    FIELD: 'fielosf-output',\n    MODEL: 'fielosf-recent-records__model',\n    SAVE: 'fielosf-module-reorder__save',\n    GRIPS: 'fielosf-draggable__grip',\n    CURSOR: 'fielosf-draggable__cursor'\n  };\n  /**\n  * Get\n  */\n\n  FieloRecentReorder.prototype.get = function() {\n    var items = this.container_.getElementsByClassName(this.CssClasses_.MODEL);\n    var sObjectList = [];\n    [].forEach.call(items, function(item) {\n      var sObject = {};\n      sObject.id = item.getAttribute('data-record-id');\n      sObject[this.orderByField_] = // eslint-disable-line camelcase\n        item.querySelector(\n          '[data-field = \"' + this.orderByField_ + '\"]').innerHTML;\n      sObjectList.push(sObject);\n    }, this);\n    return sObjectList;\n  };\n\n  /**\n  * Save Order\n  */\n  FieloRecentReorder.prototype.save_ = function() {\n    if (!this.disableReorder) {\n      fielo.util.spinner.FieloSpinner.show();\n      var orderValues = this.get();\n      try {\n        Visualforce.remoting.Manager.invokeAction(\n          this.element_.getAttribute('data-save-controller'),\n          orderValues,\n          this.processRemoteActionResult_.bind(this),\n          {\n            escape: false\n          }\n        );\n      } catch (e) {\n        console.warn(e);\n      }\n    }\n  };\n\n  /**\n  * Process Remote Action\n  */\n\n  FieloRecentReorder.prototype.processRemoteActionResult_ = function(\n    result\n  ) {\n    var notify = fielo.util.notify.create();\n    notify.FieloNotify.addMessages([\n      result.messagesSet\n    ]);\n    if (\n      result.messages[0].severity &&\n      result.messages[0].severity === 'ERROR'\n    ) {\n      notify.FieloNotify.setTheme('error');\n    } else {\n      notify.FieloNotify.setTheme('success');\n      location.reload();\n    }\n    fielo.util.spinner.FieloSpinner.hide();\n    notify.FieloNotify.show();\n  };\n\n  /**\n  * Inicializa el drag and drop\n  */\n\n  FieloRecentReorder.prototype.sortable_ = function() {\n    // Si el contenedor es tabla fija el ancho\n    if (this.container_.nodeName === 'TBODY') {\n      var columns = this.container_.querySelectorAll('td, th');\n      $(columns).each(function() {\n        var cell = $(this);\n        cell.width(cell.width());\n      });\n    }\n    this.addGrips();\n    $(this.container_).sortable({\n      update: this.order.bind(this),\n      revert: true,\n      cancel: '.' + this.Constant_.UI_DISABLED\n    });\n  };\n\n  /**\n  * Disable the drag and drop\n  */\n\n  FieloRecentReorder.prototype.disableSort = function() {\n    // Si el contenedor es tabla fija el ancho\n    var rows = $(this.element_).find('tr');\n    [].forEach.call(rows, function(row) {\n      if (!$(row).hasClass(this.Constant_.UI_DISABLED)) {\n        $(row).addClass(this.Constant_.UI_DISABLED);\n      }\n      if ($(row).hasClass(this.Constant_.UI_HANDLE)) {\n        $(row).removeClass(this.Constant_.UI_HANDLE);\n      }\n    }, this);\n    this.removeGrips();\n  };\n\n  /**\n  * Re-enable the drag and drop\n  */\n\n  FieloRecentReorder.prototype.enableSort = function() {\n    // Si el contenedor es tabla fija el ancho\n    var rows = $(this.element_).find('tr');\n    [].forEach.call(rows, function(row) {\n      if ($(row).hasClass(this.Constant_.UI_DISABLED)) {\n        $(row).removeClass(this.Constant_.UI_DISABLED);\n      }\n      if (!$(row).hasClass(this.Constant_.UI_HANDLE)) {\n        $(row).addClass(this.Constant_.UI_HANDLE);\n      }\n    }, this);\n    this.addGrips();\n  };\n\n  /**\n  * Add grips to rows\n  */\n\n  FieloRecentReorder.prototype.addGrips = function() {\n    if (!this.hasGrips) {\n      this.hasGrips = true;\n      var rows = $(this.element_).find('tr');\n      rows = $(rows).not(rows[0]);\n      [].forEach.call(rows, function(row) {\n        if (!$(row).hasClass(this.CssClasses_.GRIPS)) {\n          $(row).addClass(this.CssClasses_.GRIPS);\n        }\n        if (!$(row).hasClass(this.CssClasses_.CURSOR)) {\n          $(row).addClass(this.CssClasses_.CURSOR);\n        }\n      }, this);\n    }\n  };\n\n  /**\n  * Add grips to rows\n  */\n\n  FieloRecentReorder.prototype.removeGrips = function() {\n    if (this.hasGrips) {\n      this.hasGrips = false;\n      var rows = $(this.element_).find('tr');\n      rows = $(rows).not(rows[0]);\n      [].forEach.call(rows, function(row) {\n        if ($(row).hasClass(this.CssClasses_.GRIPS)) {\n          $(row).removeClass(this.CssClasses_.GRIPS);\n        }\n        if ($(row).hasClass(this.CssClasses_.CURSOR)) {\n          $(row).removeClass(this.CssClasses_.CURSOR);\n        }\n      }, this);\n    }\n  };\n\n  /**\n  * Setea el orden de los elementos\n  */\n\n  FieloRecentReorder.prototype.order = function() {\n    var items = this.container_.getElementsByClassName(this.CssClasses_.MODEL);\n    var i = 1;\n    var field = null;\n    [].forEach.call(items, function(elem) {\n      field = elem.querySelector(\n        '[data-field = \"' + this.orderByField_ + '\"]');\n      if (field) {\n        field.innerHTML = i;\n      }\n      i++;\n    }, this);\n  };\n\n  /**\n  * Inicializa el elemento\n  */\n  FieloRecentReorder.prototype.init = function() {\n    if (this.element_) {\n      this.container_ =\n        this.element_.getElementsByClassName(this.CssClasses_.CONTAINER)[0] ||\n        null;\n      this.orderByField_ =\n        this.element_.getAttribute('data-order-by');\n\n      this.sortable_();\n      this.order();\n      this.saveBtn_ = this.element_\n        .querySelector('.' + this.CssClasses_.SAVE);\n      if (this.saveBtn_) {\n        this.saveBtn_.addEventListener('click', this.save_.bind(this));\n      }\n    }\n  };\n\n  // El componente se registra por si solo.\n  // Asume que el componentHandler esta habilitado en el scope global\n  fielo.helper.register({\n    constructor: FieloRecentReorder,\n    classAsString: 'FieloRecentReorder',\n    cssClass: 'fielosf-recent-reorder',\n    widget: true\n  });\n})();\n","(function() {\n  'use strict';\n\n  /**\n   * @description Controlador para la Landing de Content\n   * Implementa los patrones de diseño definidos por MDL en\n   * {@link https://github.com/jasonmayes/mdl-component-design-pattern}\n   *\n   * @version 1\n   * @author Nicolás Alejandro Soberón <nicolas.soberon@fielo.com>\n   * @param {HTMLElement} element - Elemento que será mejorado.\n   * @constructor\n   */\n  var FieloQuestionManage = function FieloQuestionManage(element) {\n    this.element_ = element;\n\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloQuestionManage = FieloQuestionManage;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloQuestionManage.prototype.Constant_ = {\n    OBJECT_NAME: 'data-object-name',\n    SAVE_CONTROLLER: 'FieloELR.LevelReorderController.reorder',\n    DATA_CONTROLLER: 'data-controller-element',\n    DATA_UPGRADED: 'data-upgraded'\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas por este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloQuestionManage.prototype.CssClasses_ = {\n    CONTAINER: 'fielosf-recent-records__container',\n    FIELD: 'fielosf-output',\n    MODEL: 'fielosf-recent-records__model',\n    SAVE: 'fielosf-question-manage__save',\n    CANCEL: 'fielosf-question-manage__cancel',\n    SECTION_PANEL: 'slds-panel__section',\n    FORM_ELEMENT: 'slds-form-element',\n    REORDER: 'fielosf-recent-reorder'\n  };\n  /**\n  * Get Module\n  */\n\n  FieloQuestionManage.prototype.getModule_ = function() {\n    var moduleSection =\n      this.element_.getElementsByClassName(this.CssClasses_.SECTION_PANEL)[0];\n    var fields =\n      $(moduleSection).find('.' + this.CssClasses_.FORM_ELEMENT);\n    var sObject = {};\n    sObject.id = this.parameters_.Id ||\n      this.parameters_.cloneId ||\n      this.parameters_.FieloELR__Module__c;\n    [].forEach.call(fields, function(field) {\n      sObject[field.FieloFormElement.get('fieldName')] =\n        field.FieloFormElement.get('value');\n    }, this);\n    return sObject;\n  };\n\n  FieloQuestionManage.prototype.getQuestions_ = function() {\n    var questionSection =\n      this.element_.getElementsByClassName(this.CssClasses_.SECTION_PANEL)[1];\n    var questionSectionfields =\n      $(questionSection).find('.' + this.CssClasses_.FORM_ELEMENT);\n    var fixedFields = {};\n\n    [].forEach.call(questionSectionfields, function(field) {\n      fixedFields[field.FieloFormElement.get('fieldName')] =\n        field.FieloFormElement.get('value');\n    }, this);\n\n    var items = $(this.element_)\n      .find('.' + this.CssClasses_.MODEL);\n    var shuffleQuestions =\n      this.elements_.FieloELR__ShuffleQuestions__c\n        .FieloFormElement.get('value');\n    var sObjectList = [];\n    [].forEach.call(items, function(item) {\n      var sObject = {};\n      sObject.id = item.getAttribute('data-record-id');\n      if (!shuffleQuestions) {\n        sObject.FieloELR__Order__c =// eslint-disable-line camelcase\n          $(item).find('[data-field = \"FieloELR__Order__c\"]')[0].innerHTML;\n      }\n\n      if (this.questionFields_) {\n        this.questionFields_.forEach(function(fieldName) {\n          sObject[fieldName] =\n            $(item).find('[data-field-name= \"' + fieldName + '\"]')[0]\n              .FieloFormElement.get('value');\n        }, this);\n      }\n\n      [].forEach.call(Object.keys(fixedFields), function(fieldName) {\n        if (this.questionFields_) {\n          if (!this.questionFields_.has(fieldName)) {\n            sObject[fieldName] = fixedFields[fieldName];\n          }\n        } else {\n          sObject[fieldName] = fixedFields[fieldName];\n        }\n      }, this);\n\n      sObjectList.push(sObject);\n    }, this);\n    return sObjectList;\n  };\n\n  FieloQuestionManage.prototype.retrieve_ = function(source) {\n    // traigo los parameters del boton\n    this.parameters_ = source.FieloButton.getParameters();\n\n    // Setea parametros default en edit y new\n    this.setParameters_();\n\n    // 2 - Hacer retrieve si estoy en edit\n    if (\n      this.parameters_.hasOwnProperty('Id') ||\n      this.parameters_.hasOwnProperty('FieloELR__Module__c') ||\n      this.parameters_.hasOwnProperty('cloneId')\n    ) {\n      this.isEditing = true;\n      this.recordId_ = this.parameters_.Id;\n\n      var retrieveRecordId = this.parameters_.Id ||\n        this.parameters_.cloneId ||\n        this.parameters_.FieloELR__Module__c;\n\n      // Si es un record busca los datos y los setea\n      this.fields_ = this.moduleFields_;\n\n      var objectName = this.element_.getAttribute(this.Constant_.OBJECT_NAME);\n      Visualforce.remoting.Manager.invokeAction(\n        this.element_.getAttribute('data-retrieve-controller'),\n        objectName,\n        retrieveRecordId,\n        this.fields_.join(),\n        this.retrieveHandler_.bind(this),\n        {escape: true}\n      );\n    } else {\n      this.isEditing = false;\n      this.setParameters_();\n      this.endRetrieve();\n    }\n  };\n\n  FieloQuestionManage.prototype.retrieveProxy_ = function(modal, source) {\n    modal.FieloQuestionManage.retrieve_(source);\n  };\n  window.FieloQuestionManage_retrieve =// eslint-disable-line camelcase\n    FieloQuestionManage.prototype.retrieveProxy_;\n\n  FieloQuestionManage.prototype.retrieveHandler_ = function(result) {\n    fielo.util.spinner.FieloSpinner.show();\n    this.result = result;\n    try {\n      // analizo si hay listas\n      // preparo un hash para representar los campos que tienen listas\n      var hash = '|';\n      for (var field in result) {\n        if (result.hasOwnProperty(field) && field.indexOf('__r') > -1) {\n          hash += field.slice(0, -1) + 'c|';\n        }\n      }\n\n      this.fields_.forEach(function(field) {\n        // si es una lista\n        if (hash.indexOf(field) > -1) {\n          var values;\n          switch (typeof result[field.slice(0, -1) + 'r']) {\n            case 'object':\n              // es un objeto que en su propiedad field contiene un string con id separados por ;\n              // siguiendo el formato de salesforce\n              // hay que parsear la informacion para pasarlo a la interfaz normal\n              values = result[field.slice(0, -1) + 'r'];\n              // busco la clave que contiene el campo __c\n              var __c;\n              for (var key in values) {\n                if (values.hasOwnProperty(key) && key.indexOf('__c') > -1) {\n                  __c = key;\n                  break;\n                }\n              }\n              if (__c) {\n                values = values[__c].split(';');\n              } else {\n                values = result[field];\n              }\n              break;\n            case 'array':\n            default:\n              // una interfaz normal\n              values = result[field.slice(0, -1) + 'r'];\n              break;\n          }\n          this.elements_[field].FieloFormElement.set('value', values);\n        } else if (this.elements_[field]) {\n          if (\n            this.elements_[field].FieloFormElement.get('type') === 'input-date'\n          ) {\n            result[field] = fielo.util.parseDateFromSF(result[field]);\n          }\n          this.elements_[field].FieloFormElement.set('value', result[field]);\n        }\n      }, this);\n\n      // Global Question Setup\n      if (result.FieloELR__Questions__r) {\n        if (result.FieloELR__Questions__r.length > 0) {\n          var questionSection =\n            this.element_\n              .getElementsByClassName(this.CssClasses_.SECTION_PANEL)[1];\n          var questionSectionfields =\n            $(questionSection).find('.' + this.CssClasses_.FORM_ELEMENT);\n\n          [].forEach.call(questionSectionfields, function(field) {\n            field.FieloFormElement.set('value',\n              result.FieloELR__Questions__r[0][\n                field.FieloFormElement.get('fieldName')]);\n          }, this);\n        }\n      }\n\n      // 3 - Pisar con los parameters de source en edit y new\n      this.setParameters_();\n      this.endRetrieve();\n    } catch (e) {\n      var notify = fielo.util.notify.create();\n      notify.FieloNotify.addMessages([this.Constant_.HAS_ERROR, e]);\n      notify.FieloNotify.setTheme('error');\n      notify.FieloNotify.show();\n    }\n    // Hago focus en el primer elemento del form\n    var elements =\n      this.element_.getElementsByClassName(this.CssClasses_.ELEMENTS);\n    for (var i = 0; i < elements.length; i++) {\n      var type = elements[i].FieloFormElement.get('type');\n      if (type === 'lookup' || type.indexOf('input') !== -1) {\n        elements[i].getElementsByClassName('slds-input')[0].focus();\n        break;\n      }\n    }\n    fielo.util.spinner.FieloSpinner.hide();\n  };\n\n  FieloQuestionManage.prototype.setParameters_ = function() {\n    for (var field in this.parameters_) {\n      if (field in this.parameters_) {\n        if (field in this.elements_) {\n          this.elements_[field].FieloFormElement.set(\n            'value',\n            this.parameters_[field]\n          );\n        }\n      }\n    }\n  };\n\n  /**\n  * Save Order\n  */\n  FieloQuestionManage.prototype.save_ = function() {\n    // fielo.util.spinner.FieloSpinner.show();\n    var moduleValues = this.getModule_();\n    var questionValues = this.getQuestions_();\n\n    var moduleNullFields = [];\n    var questionNullFields = {};\n\n    [].forEach.call(Object.keys(moduleValues), function(field) {\n      if (moduleValues[field] === '' ||\n          moduleValues[field] === null) {\n        moduleNullFields.push(field);\n      }\n    });\n\n    questionValues.forEach(function(row) {\n      if (moduleValues.FieloELR__PenaltyMode__c === 'Negative Weight') {\n        row.FieloELR__PenaltyPerAttempt__c = 0;// eslint-disable-line camelcase\n      } else if (moduleValues.FieloELR__PenaltyMode__c === 'Percent Decrease') {\n        row.FieloELR__IncorrectWeight__c = 0;// eslint-disable-line camelcase\n      } else if (moduleValues.FieloELR__PenaltyMode__c === 'None') {\n        row.FieloELR__PenaltyPerAttempt__c = 0;// eslint-disable-line camelcase\n        row.FieloELR__IncorrectWeight__c = 0;// eslint-disable-line camelcase\n      }\n\n      if (\n        moduleValues\n        .FieloELR__AttemptsAllowedPerQuestion__c === 'Unlimited') { // eslint-disable-line camelcase\n        moduleValues.FieloELR__AttemptsAllowedPerQuestion__c = ''; // eslint-disable-line camelcase\n      }\n\n      [].forEach.call(Object.keys(row), function(field) {\n        if (row[field] === '' ||\n          row[field] === null) {\n          if (!questionNullFields[row.id]) {\n            questionNullFields[row.id] = [];\n          }\n          questionNullFields[row.id].push(field);\n        }\n      });\n    });\n\n    [].forEach.call(questionValues, function(question) {\n      if (question.id === 'r[\\'id\\']') {\n        var index = questionValues.indexOf(question);\n        if (index > -1) {\n          questionValues.splice(index, 1);\n        }\n      }\n    }, this);\n\n    try {\n      Visualforce.remoting.Manager.invokeAction(\n        this.element_.getAttribute('data-save-controller'),\n        moduleValues,\n        moduleNullFields,\n        questionValues,\n        questionNullFields,\n        this.processRemoteActionResult_.bind(this),\n        {\n          escape: false\n        }\n      );\n    } catch (e) {\n      console.warn(e);\n    }\n  };\n\n  FieloQuestionManage.prototype.getFields_ = function() {\n    var moduleFields = $($(this.element_)\n      .find('.' + this.CssClasses_.SECTION_PANEL)[0])\n      .find('.' + this.CssClasses_.FORM_ELEMENT);\n\n    if (this.moduleFields_ === null || this.moduleFields_ === undefined) {\n      this.moduleFields_ = [];\n    }\n    this.elements_ = [];\n    [].forEach.call(moduleFields, function(field) {\n      this.moduleFields_.push(field.FieloFormElement.get('fieldName'));\n      this.elements_[field.FieloFormElement.get('fieldName')] = field;\n    }, this);\n  };\n\n  FieloQuestionManage.prototype.changeForm = function() {\n    var penaltyMode =\n      this.elements_.FieloELR__PenaltyMode__c\n        .FieloFormElement.get('value');\n    var weightedQuestions =\n      this.elements_.FieloELR__WeightedQuestions__c\n        .FieloFormElement.get('value');\n    var shuffleQuestions =\n      this.elements_.FieloELR__ShuffleQuestions__c\n        .FieloFormElement.get('value');\n    var questionPool =\n      this.elements_.FieloELR__QuestionPool__c\n        .FieloFormElement.get('value');\n    var incorrectWeight =\n      $($(this.element_).find('.' + this.CssClasses_.SECTION_PANEL)[1])\n        .find('[data-field-name=\"FieloELR__IncorrectWeight__c\"]');\n    var penaltyPerAttempt =\n      $($(this.element_).find('.' + this.CssClasses_.SECTION_PANEL)[1])\n        .find('[data-field-name=\"FieloELR__PenaltyPerAttempt__c\"]');\n    var shuffleQuestionsDiv =\n      $($(this.element_).find('.' + this.CssClasses_.SECTION_PANEL)[0])\n        .find('[data-field-name=\"FieloELR__ShuffleQuestions__c\"]')[0];\n    var weightedQuestionsDiv =\n      $($(this.element_).find('.' + this.CssClasses_.SECTION_PANEL)[0])\n        .find('[data-field-name=\"FieloELR__WeightedQuestions__c\"]')[0];\n\n    if (shuffleQuestions) {\n      this.reorderObject.disableSort();\n    } else {\n      this.reorderObject.enableSort();\n    }\n    if (penaltyMode === 'None') {\n      incorrectWeight.toggle(false);\n      penaltyPerAttempt.toggle(false);\n      if (weightedQuestions) {\n        // Add Inputs\n        this.addInputs('FieloELR__CorrectWeight__c');\n        this.removeInputs('FieloELR__PenaltyPerAttempt__c');\n        this.removeInputs('FieloELR__IncorrectWeight__c');\n      } else {\n        // Remove Inputs\n        this.removeInputs('FieloELR__CorrectWeight__c');\n        this.removeInputs('FieloELR__PenaltyPerAttempt__c');\n        this.removeInputs('FieloELR__IncorrectWeight__c');\n      }\n    } else if (penaltyMode === 'Percent Decrease') {\n      incorrectWeight.toggle(false);\n      if (weightedQuestions) {\n        penaltyPerAttempt.toggle(false);\n        // Add Inputs\n        this.addInputs('FieloELR__CorrectWeight__c');\n        this.addInputs('FieloELR__PenaltyPerAttempt__c');\n        this.removeInputs('FieloELR__IncorrectWeight__c');\n      } else {\n        penaltyPerAttempt.toggle(true);\n        // Remove Inputs\n        this.removeInputs('FieloELR__CorrectWeight__c');\n        this.removeInputs('FieloELR__PenaltyPerAttempt__c');\n        this.removeInputs('FieloELR__IncorrectWeight__c');\n      }\n    } else if (penaltyMode === 'Negative Weight') {\n      penaltyPerAttempt.toggle(false);\n      if (weightedQuestions) {\n        incorrectWeight.toggle(false);\n        // Add Inputs\n        this.addInputs('FieloELR__CorrectWeight__c');\n        this.addInputs('FieloELR__IncorrectWeight__c');\n        this.removeInputs('FieloELR__PenaltyPerAttempt__c');\n      } else {\n        incorrectWeight.toggle(true);\n        // Remove Inputs\n        this.removeInputs('FieloELR__CorrectWeight__c');\n        this.removeInputs('FieloELR__PenaltyPerAttempt__c');\n        this.removeInputs('FieloELR__IncorrectWeight__c');\n      }\n    } else {\n      incorrectWeight.toggle(false);\n      penaltyPerAttempt.toggle(false);\n      this.removeInputs('FieloELR__CorrectWeight__c');\n      this.removeInputs('FieloELR__PenaltyPerAttempt__c');\n      this.removeInputs('FieloELR__IncorrectWeight__c');\n    }\n    if (questionPool === null ||\n      questionPool === undefined ||\n      questionPool === '') {\n      if ($(shuffleQuestionsDiv).hasClass('disabled')) {\n        $(shuffleQuestionsDiv).removeClass('disabled');\n        shuffleQuestionsDiv.FieloFormElement.set('value', false);\n      }\n      if ($(weightedQuestionsDiv).hasClass('disabled')) {\n        $(weightedQuestionsDiv).removeClass('disabled');\n        weightedQuestionsDiv.FieloFormElement.set('value', false);\n        this.changeForm();\n      }\n    } else if (questionPool > 0.0) {\n      if (!$(shuffleQuestionsDiv).hasClass('disabled')) {\n        $(shuffleQuestionsDiv).addClass('disabled');\n        shuffleQuestionsDiv.FieloFormElement.set('value', true);\n      }\n      if (!$(weightedQuestionsDiv).hasClass('disabled')) {\n        $(weightedQuestionsDiv).addClass('disabled');\n        weightedQuestionsDiv.FieloFormElement.set('value', false);\n        this.changeForm();\n      }\n    } else {\n      if ($(shuffleQuestionsDiv).hasClass('disabled')) {\n        $(shuffleQuestionsDiv).removeClass('disabled');\n        shuffleQuestionsDiv.FieloFormElement.set('value', false);\n      }\n      if ($(weightedQuestionsDiv).hasClass('disabled')) {\n        $(weightedQuestionsDiv).removeClass('disabled');\n        weightedQuestionsDiv.FieloFormElement.set('value', false);\n        this.changeForm();\n      }\n    }\n  };\n\n  FieloQuestionManage.prototype.endRetrieve = function() {\n    this.changeForm();\n  };\n\n  /**\n  * Process Remote Action\n  */\n\n  FieloQuestionManage.prototype.processRemoteActionResult_ = function(\n    result\n  ) {\n    var notify = fielo.util.notify.create();\n    notify.FieloNotify.addMessages([\n      result.messagesSet\n    ]);\n    if (\n      result.messages[0].severity &&\n      result.messages[0].severity === 'ERROR'\n    ) {\n      notify.FieloNotify.setTheme('error');\n    } else {\n      notify.FieloNotify.setTheme('success');\n      location.reload();\n    }\n    fielo.util.spinner.FieloSpinner.hide();\n    notify.FieloNotify.show();\n  };\n\n  FieloQuestionManage.prototype.addInputs = function(fieldName) {\n    var items = $(this.element_)\n      .find('.' + this.CssClasses_.MODEL);\n    var currentField;\n    var newField;\n    this.showColumn(fieldName);\n    this.addField(fieldName);\n    [].forEach.call(items, function(item) {\n      currentField = $(item)\n        .find('[data-field=\"' + fieldName + '\"]')[0];\n      if (currentField) {\n        if (fieldName === 'FieloELR__CorrectWeight__c') {\n          newField =\n            this.correctWeightModel.cloneNode(true);\n        } else if (fieldName === 'FieloELR__IncorrectWeight__c') {\n          newField =\n            this.incorrectWeightModel.cloneNode(true);\n        } else if (fieldName === 'FieloELR__PenaltyPerAttempt__c') {\n          newField =\n            this.penaltyPerAttemptModel.cloneNode(true);\n        }\n        this.initField(newField);\n\n        newField.FieloFormElement\n          .set('value', currentField.innerHTML);\n        $(currentField).closest('td')[0]\n          .appendChild(newField);\n        if (!$(currentField).closest('td').hasClass('ui-state-disabled')) {\n          $(currentField).closest('td').addClass('ui-state-disabled');\n        }\n\n        if (newField) {\n          $(currentField).closest('td')[0]\n            .removeChild(currentField);\n          $(newField).toggle(true);\n          $(newField).closest('td').toggle(true);\n        }\n      }\n    }, this);\n  };\n\n  FieloQuestionManage.prototype.removeInputs = function(fieldName) {\n    var items = $(this.element_)\n      .find('.' + this.CssClasses_.MODEL);\n    var currentField = null;\n    var newField = null;\n    this.removeField(fieldName);\n    [].forEach.call(items, function(item) {\n      currentField = $(item)\n        .find('[data-field-name=\"' + fieldName + '\"]')[0];\n      if (currentField) {\n        if (fieldName === 'FieloELR__CorrectWeight__c') {\n          newField =\n            this.correctWeightOutputModel.cloneNode(true);\n        } else if (fieldName === 'FieloELR__IncorrectWeight__c') {\n          newField =\n            this.incorrectWeightOutputModel.cloneNode(true);\n        } else if (fieldName === 'FieloELR__PenaltyPerAttempt__c') {\n          newField =\n            this.penaltyPerAttemptOutputModel.cloneNode(true);\n        }\n        newField.innerHTML =\n          currentField.FieloFormElement\n            .get('value');\n\n        $(currentField).closest('td')[0]\n          .appendChild(newField);\n\n        if (newField) {\n          $(currentField).closest('td')[0]\n            .removeChild(currentField);\n          $(newField).toggle(true);\n        }\n      }\n    }, this);\n    this.hideColumn(fieldName);\n  };\n\n  FieloQuestionManage.prototype.hideColumn = function(fieldName) {\n    var items = $(this.element_)\n      .find('.' + this.CssClasses_.MODEL);\n    var currentField = null;\n\n    [].forEach.call(items, function(item) {\n      currentField = $(item)\n        .find('[data-field-name=\"' + fieldName + '\"]')[0];\n      if (!currentField) {\n        currentField = $(item)\n          .find('[data-field=\"' + fieldName + '\"]')[0];\n      }\n      if (currentField) {\n        $(currentField).toggle(false);\n        $(currentField).closest('td').toggle(false);\n      }\n    }, this);\n\n    if (currentField) {\n      var index = $(currentField).closest('td').index();\n      var column = $('#' + this.element_.id)\n        .find('thead')\n          .find('tr')[0].cells[index];\n      $(column).toggle(false);\n    }\n  };\n\n  FieloQuestionManage.prototype.showColumn = function(fieldName) {\n    var items = $(this.element_)\n      .find('.' + this.CssClasses_.MODEL);\n    var currentField = null;\n\n    [].forEach.call(items, function(item) {\n      currentField = $(item)\n        .find('[data-field-name=\"' + fieldName + '\"]')[0];\n      if (!currentField) {\n        currentField = $(item)\n          .find('[data-field=\"' + fieldName + '\"]')[0];\n      }\n      if (currentField) {\n        $(currentField).toggle(true);\n        $(currentField).closest('td').toggle(true);\n      }\n    }, this);\n\n    if (currentField) {\n      var index = $(currentField).closest('td').index();\n      var column = $('#' + this.element_.id)\n        .find('thead')\n          .find('tr')[0].cells[index];\n      $(column).toggle(true);\n    }\n  };\n\n  FieloQuestionManage.prototype.initField = function(element) {\n    element.removeAttribute(this.Constant_.DATA_UPGRADED);\n    if (!this.fieldIndex) {\n      this.fieldIndex = 1;\n    }\n    element.id = String(element.id + '-' + this.fieldIndex);\n    var dataController = element\n      .getAttribute(this.Constant_.DATA_CONTROLLER) || null;\n    if (dataController && this.fieldIndex !== 0) {\n      element.setAttribute(\n        this.Constant_.DATA_CONTROLLER,\n        String(dataController + '-' + this.fieldIndex)\n      );\n      this.fieldIndex++;\n    }\n    componentHandler.upgradeElement(element);\n  };\n\n  /**\n  * Inicializa el elemento\n  */\n  FieloQuestionManage.prototype.init = function() {\n    if (this.element_) {\n      this.container_ =\n        this.element_.getElementsByClassName(this.CssClasses_.CONTAINER)[0] ||\n        null;\n      this.element_.getElementsByClassName(this.CssClasses_.SAVE)[0]\n        .addEventListener('click', this.save_.bind(this));\n      this.reorderObject = this.element_.FieloRecentReorder;\n      if (this.reorderObject) {\n        this.reorderObject.disableReorder = true;\n      }\n\n      $($(this.element_)\n        .find('.' + this.CssClasses_.SECTION_PANEL)[1])\n          .find('h3')[0].innerHTML = 'Global Question Setup';\n      // $($(this.element_).find('.' + this.CssClasses_.SECTION_PANEL)[0])\n        // .prepend($(globalSetupHeader).clone(true));\n      $($(this.element_).find('.' + this.CssClasses_.SECTION_PANEL)[0])\n        .find('h3')[0].innerHTML = 'Module Setup';\n\n      $('#' + this.element_.id + '-section-Id')\n        .toggle(false);\n      $('#' + this.element_.id + '-questionsection-Id')\n        .toggle(false);\n\n      $('#' + this.element_.id)\n        .find('[data-field-name=\"FieloELR__IncorrectWeight__c\"]')\n          .toggle(false);\n      $('#' + this.element_.id)\n        .find('[data-field-name=\"FieloELR__PenaltyPerAttempt__c\"]')\n          .toggle(false);\n      $('#' + this.element_.id)\n        .find('[data-field-name=\"FieloELR__CorrectWeight__c\"]')\n          .toggle(false);\n\n      this.swapAttemptsAllowedPerQuestion();\n\n      this.getFields_();\n\n      this.initModels();\n\n      this.hideColumn('FieloELR__Order__c');\n\n      [].forEach.call(Object.keys(this.elements_), function(field) {\n        if (field === 'FieloELR__WeightedQuestions__c' ||\n            field === 'FieloELR__ShuffleQuestions__c' ||\n            field === 'FieloELR__QuestionPool__c' ||\n            field === 'FieloELR__PenaltyMode__c') {\n          this.elements_[field].addEventListener('change',\n            this.changeForm.bind(this));\n          componentHandler.upgradeElement(this.elements_[field]);\n        }\n      }, this);\n    }\n  };\n\n  FieloQuestionManage.prototype.addField = function(fieldName) {\n    if (!this.questionFields_) {\n      this.questionFields_ = new Set();\n    }\n    this.questionFields_.add(fieldName);\n  };\n\n  FieloQuestionManage.prototype.removeField = function(fieldName) {\n    if (this.questionFields_) {\n      if (this.questionFields_.has(fieldName)) {\n        this.questionFields_.delete(fieldName);\n      }\n    }\n  };\n\n  FieloQuestionManage.prototype.swapAttemptsAllowedPerQuestion = function() {\n    var fields = $(this.element_)\n      .find('[data-field-name=\"FieloELR__AttemptsAllowedPerQuestion__c\"]');\n    var activeField = null;\n    var hidenField = null;\n    [].forEach.call(fields, function(field) {\n      if ($(field).hasClass('slds-hide')) {\n        hidenField = field;\n      } else {\n        activeField = field;\n      }\n    });\n    $(hidenField).insertBefore(activeField);\n    if ($(hidenField).hasClass('slds-hide')) {\n      $(hidenField).removeClass('slds-hide');\n    }\n    if ($(hidenField).hasClass('slds-is-collapsed')) {\n      $(hidenField).removeClass('slds-is-collapsed');\n    }\n    $(activeField).remove();\n  };\n\n  FieloQuestionManage.prototype.initModels = function() {\n    // Input Fields\n    this.incorrectWeightModel = $('#' + this.element_.id)\n      .find('[data-field-name=\"FieloELR__IncorrectWeight__c\"]')[0]\n        .cloneNode(true);\n    this.penaltyPerAttemptModel = $('#' + this.element_.id)\n      .find('[data-field-name=\"FieloELR__PenaltyPerAttempt__c\"]')[0]\n        .cloneNode(true);\n    this.correctWeightModel = $('#' + this.element_.id)\n      .find('[data-field-name=\"FieloELR__CorrectWeight__c\"]')[0]\n        .cloneNode(true);\n    // Output Fields\n    this.incorrectWeightOutputModel = $('#' + this.element_.id)\n      .find('[data-field=\"FieloELR__IncorrectWeight__c\"]')[0]\n        .cloneNode(true);\n    this.penaltyPerAttemptOutputModel = $('#' + this.element_.id)\n      .find('[data-field=\"FieloELR__PenaltyPerAttempt__c\"]')[0]\n        .cloneNode(true);\n    this.correctWeightOutputModel = $('#' + this.element_.id)\n      .find('[data-field=\"FieloELR__CorrectWeight__c\"]')[0]\n        .cloneNode(true);\n\n    // Removing Input Labels\n    this.incorrectWeightModel.removeChild(\n      $(this.incorrectWeightModel).find('label')[0]);\n    this.penaltyPerAttemptModel.removeChild(\n      $(this.penaltyPerAttemptModel).find('label')[0]);\n    this.correctWeightModel.removeChild(\n      $(this.correctWeightModel).find('label')[0]);\n  };\n\n  // El componente se registra por si solo.\n  // Asume que el componentHandler esta habilitado en el scope global\n  fielo.helper.register({\n    constructor: FieloQuestionManage,\n    classAsString: 'FieloQuestionManage',\n    cssClass: 'fielosf-question-manage',\n    widget: true\n  });\n})();\n","(function() {\n  'use strict';\n\n  /**\n   * @description Controlador para la Landing de Content\n   * Implementa los patrones de diseño definidos por MDL en\n   * {@link https://github.com/jasonmayes/mdl-component-design-pattern}\n   *\n   * @version 1\n   * @author Nicolás Alejandro Soberón <nicolas.soberon@fielo.com>\n   * @param {HTMLElement} element - Elemento que será mejorado.\n   * @constructor\n   */\n  var FieloQuestionWizard = function FieloQuestionWizard(element) {\n    this.element_ = element;\n\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloQuestionWizard = FieloQuestionWizard;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloQuestionWizard.prototype.Constant_ = {\n    OBJECT_NAME: 'data-object-name',\n    SAVE_CONTROLLER: 'FieloELR.LevelReorderController.reorder',\n    DATA_CONTROLLER: 'data-controller-element',\n    DATA_UPGRADED: 'data-upgraded',\n    FORM_ID_SUFIX: 'multiplechoice'\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas por este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloQuestionWizard.prototype.CssClasses_ = {\n    RECENT_CONTAINER: 'fielosf-recent-records__container',\n    FIELD: 'fielosf-output',\n    MODEL: 'fielosf-recent-records__model',\n    SAVE: 'fielosf-question-wizard__save',\n    SAVE_NEW: 'fielosf-question-wizard__saveNew',\n    NEXT: 'fielosf-question-wizard__next',\n    NEXT_MULTIPLE_CHOICE: 'fielosf-question-wizard__next-multiplechoice',\n    CANCEL: 'fielosf-question-wizard__cancel',\n    SECTION_PANEL: 'slds-panel__section',\n    FORM_ELEMENT: 'slds-form-element',\n    FORM_ELEMENT_LABEL: 'slds-form-element__label',\n    REORDER: 'fielosf-recent-reorder',\n    ANSWER_OPTIONS: 'fielosf-answer-options',\n    ANSWER_OPTIONS_ITEM: 'fielosf-answer-options__item',\n    DATA_FIELD_NAME: 'data-field-name',\n    DATA_FIELD_TABLE: 'data-field',\n    OUTPUT_ELEMENT: 'fielosf-output'\n  };\n  /**\n  * Get Question\n  */\n\n  FieloQuestionWizard.prototype.getQuestion_ = function() {\n    var questionSection =\n      this.form_.getElementsByClassName(this.CssClasses_.SECTION_PANEL)[0];\n    var fields =\n      $(questionSection).find('.' + this.CssClasses_.FORM_ELEMENT);\n    var sObject = {};\n    if (this.parameters_.hasOwnProperty('Id') ||\n      this.parameters_.hasOwnProperty('cloneId')) {\n      sObject.id = this.parameters_.Id ||\n      this.parameters_.cloneId;\n    }\n    [].forEach.call(fields, function(field) {\n      sObject[field.FieloFormElement.get('fieldName')] =\n        field.FieloFormElement.get('value');\n    }, this);\n\n    return sObject;\n  };\n\n  FieloQuestionWizard.prototype.getDeletedAnswerIds_ = function() {\n    var itemContainer = $(this.form_)\n      .find('.' + this.CssClasses_.ANSWER_OPTIONS)[0];\n    var deletedIds = null;\n    if (itemContainer) {\n      deletedIds = itemContainer.FieloAnswerOptions.deletedItems;\n    }\n    return deletedIds;\n  };\n\n  FieloQuestionWizard.prototype.getAnswerOptions_ = function() {\n    var itemContainer = $(this.form_)\n      .find('.' + this.CssClasses_.ANSWER_OPTIONS)[0];\n    var items = null;\n    if (itemContainer) {\n      items = itemContainer.FieloAnswerOptions.get();\n    }\n    return items;\n  };\n\n  FieloQuestionWizard.prototype.throwMessage = function(type, errorMsg) {\n    var notify = fielo.util.notify.create();\n    notify.FieloNotify.addMessages(errorMsg);\n    notify.FieloNotify.setTheme(type);\n    notify.FieloNotify.show();\n  };\n\n  FieloQuestionWizard.prototype.retrieve_ = function(source) {\n    // traigo los parameters del boton\n    this.parameters_ = source.FieloButton.getParameters();\n\n    // Setea parametros default en edit y new\n    this.setParameters_();\n\n    // 2 - Hacer retrieve si estoy en edit\n    if (\n      this.parameters_.hasOwnProperty('Id') ||\n      this.parameters_.hasOwnProperty('cloneId')\n    ) {\n      this.isEditing = true;\n      this.recordId_ = this.parameters_.Id;\n\n      var retrieveRecordId = this.parameters_.Id ||\n        this.parameters_.cloneId;\n\n      // Si es un record busca los datos y los setea\n      this.fields_ = Array.from(this.questionFields_);\n\n      Visualforce.remoting.Manager.invokeAction(\n        this.form_.getAttribute('data-retrieve-controller'),\n        this.form_.getAttribute('data-object-name'),\n        retrieveRecordId,\n        this.fields_.join(),\n        this.retrieveHandler_.bind(this),\n        {escape: false}\n      );\n    } else {\n      this.isEditing = false;\n      this.setParameters_();\n      this.endRetrieve();\n    }\n  };\n\n  FieloQuestionWizard.prototype.retrieveProxy_ = function(modal, source) {\n    $(modal)\n      .closest('.fielosf-question-wizard')[0]\n        .FieloQuestionWizard.retrieve_(source);\n  };\n  window.FieloQuestionWizard_retrieve =// eslint-disable-line camelcase\n    FieloQuestionWizard.prototype.retrieveProxy_;\n\n  FieloQuestionWizard.prototype.retrieveHandler_ = function(result) {\n    fielo.util.spinner.FieloSpinner.show();\n    // Adding Treatment for htmlTextArea Fields\n    // Temporary\n    [].forEach.call(Object.keys(result), function(fieldName) {\n      if (fieldName.indexOf('__c') > -1 &&\n        typeof result[fieldName] === 'string') {\n        result[fieldName] = this.decode(result[fieldName]);\n      }\n    }, this);\n    this.result = result;\n    console.log(this.result);\n    // Set form type\n    $('#' + this.formId_)\n      .find('[data-field-name=\"FieloELR__Type__c\"]')[0]\n        .FieloFormElement.set('value',\n          result.FieloELR__Type__c);\n    this.next_();\n    try {\n      // analizo si hay listas\n      // preparo un hash para representar los campos que tienen listas\n      var hash = '|';\n      for (var field in result) {\n        if (result.hasOwnProperty(field) && field.indexOf('__r') > -1) {\n          hash += field.slice(0, -1) + 'c|';\n        }\n      }\n\n      this.fields_.forEach(function(field) {\n        // si es una lista\n        if (hash.indexOf(field) > -1) {\n          var values;\n          switch (typeof result[field.slice(0, -1) + 'r']) {\n            case 'object':\n              // es un objeto que en su propiedad field contiene un string con id separados por ;\n              // siguiendo el formato de salesforce\n              // hay que parsear la informacion para pasarlo a la interfaz normal\n              values = result[field.slice(0, -1) + 'r'];\n              // busco la clave que contiene el campo __c\n              var __c;\n              for (var key in values) {\n                if (values.hasOwnProperty(key) && key.indexOf('__c') > -1) {\n                  __c = key;\n                  break;\n                }\n              }\n              if (__c) {\n                values = values[__c].split(';');\n              } else {\n                values = result[field];\n              }\n              break;\n            case 'array':\n            default:\n              // una interfaz normal\n              values = result[field.slice(0, -1) + 'r'];\n              break;\n          }\n          this.elements_[field].FieloFormElement.set('value', values);\n        } else if (this.elements_[field]) {\n          if (\n            this.elements_[field].FieloFormElement.get('type') === 'input-date'\n          ) {\n            result[field] = fielo.util.parseDateFromSF(result[field]);\n          }\n          this.elements_[field].FieloFormElement.set('value', result[field]);\n        }\n      }, this);\n\n      if (result.FieloELR__Module__c) {\n        this.parameters_.FieloELR__Module__c = // eslint-disable-line camelcase\n          result.FieloELR__Module__c; // eslint-disable-line camelcase\n      }\n\n      // Set Answers\n      if (result.FieloELR__AnswerOptions__r) {\n        if (result.FieloELR__AnswerOptions__r.length > 0) {\n          this.setAnswers_(result.FieloELR__AnswerOptions__r);\n        }\n      }\n      // 3 - Pisar con los parameters de source en edit y new\n      this.setParameters_();\n      this.endRetrieve();\n    } catch (e) {\n      var notify = fielo.util.notify.create();\n      notify.FieloNotify.addMessages([e]);\n      notify.FieloNotify.setTheme('error');\n      notify.FieloNotify.show();\n    }\n    // Hago focus en el primer elemento del form\n    var elements =\n      this.element_.getElementsByClassName(this.CssClasses_.ELEMENTS);\n    for (var i = 0; i < elements.length; i++) {\n      var type = elements[i].FieloFormElement.get('type');\n      if (type === 'lookup' || type.indexOf('input') !== -1) {\n        elements[i].getElementsByClassName('slds-input')[0].focus();\n        break;\n      }\n    }\n    fielo.util.spinner.FieloSpinner.hide();\n  };\n\n  FieloQuestionWizard.prototype.decode = function(str) {\n    return str.replace(/&#(\\d+);/g, function(match, dec) {\n      return String.fromCharCode(dec);\n    });\n  };\n\n  FieloQuestionWizard.prototype.setAnswers_ = function(answers) {\n    var existingRows = $(this.form_)\n        .find('.' + this.CssClasses_.ANSWER_OPTIONS_ITEM).length;\n    var row = answers.length - existingRows;\n    while (row > 0) {\n      this.newAnswer();\n      row--;\n    }\n    row = 0;\n    var answerItem = null;\n    var field = null;\n    [].forEach.call(answers, function(answer) {\n      answerItem = $(this.form_)\n        .find('.' + this.CssClasses_.ANSWER_OPTIONS_ITEM)[row];\n      if (answerItem) {\n        [].forEach.call(Object.keys(answer), function(fieldName) {\n          field =\n            $(answerItem)\n              .find('[data-field-name=\"' + fieldName + '\"]')[0];\n          if (field) {\n            field.FieloFormElement.set('value', answer[fieldName]);\n          }\n          if (!field) {\n            field =\n              $(answerItem)\n                .find('[data-field=\"' + fieldName + '\"]')[0];\n            if (field) {\n              field.innerHTML = answer[fieldName];\n            }\n          }\n        }, this);\n        answerItem.setAttribute('data-record-id', answer.Id);\n        row++;\n      }\n    }, this);\n  };\n\n  FieloQuestionWizard.prototype.unencodeHTML = function(htmlString) {\n    var encodedStr = htmlString;\n\n    var parser = new DOMParser();\n    var dom = parser.parseFromString(\n        '<!doctype html><body>' + encodedStr,\n        'text/html');\n    var decodedString = dom.body.textContent;\n\n    return decodedString;\n  };\n\n  FieloQuestionWizard.prototype.setParameters_ = function() {\n    for (var field in this.parameters_) {\n      if (field in this.parameters_) {\n        if (field in this.elements_) {\n          this.elements_[field].FieloFormElement.set(\n            'value',\n            this.parameters_[field]\n          );\n        }\n      }\n    }\n  };\n\n  FieloQuestionWizard.prototype.saveOnly_ = function() {\n    this.isSaveAndNew = false;\n    this.save_();\n    if (!this.hasError_) {\n      $(this.form_).modal('dismiss');\n    }\n  };\n\n  FieloQuestionWizard.prototype.saveAndNew_ = function() {\n    this.isSaveAndNew = true;\n    this.save_();\n    if (!this.hasError_) {\n      $(this.form_).modal('dismiss');\n    }\n  };\n\n  /**\n  * Save Order\n  */\n  FieloQuestionWizard.prototype.save_ = function() {\n    // fielo.util.spinner.FieloSpinner.show();\n    var questionValues = this.getQuestion_();\n    var questionNullFields = [];\n\n    var answerOptionValues = this.getAnswerOptions_();\n    var deletedIds = this.getDeletedAnswerIds_();\n    deletedIds = deletedIds ?\n      deletedIds :\n      [];\n    var answerOptionNullFields = {};\n    var errorMsgs = new Set();\n\n    if (questionValues.Name === '' ||\n      questionValues.Name === null ||\n      questionValues.Name === undefined) {\n      questionValues.Name =\n        questionValues.FieloELR__QuestionText__c\n          .substring(0,\n            questionValues.FieloELR__QuestionText__c.length > 20 ?\n            20 : questionValues.FieloELR__QuestionText__c.length - 1);\n    }\n\n    if (questionValues.FieloELR__QuestionText__c === '' ||\n      questionValues.FieloELR__QuestionText__c === null ||\n      questionValues.FieloELR__QuestionText__c === undefined) {\n      errorMsgs.add(BackEndJSSettings.LABELS.QuestionTextRequired);\n    }\n\n    answerOptionValues.forEach(function(row) {\n      if (questionValues.FieloELR__Type__c === 'Short Answer') {// eslint-disable-line camelcase\n        row.FieloELR__IsCorrect__c = true;// eslint-disable-line camelcase\n      }\n      if (questionValues.FieloELR__Type__c === 'Matching Options') {// eslint-disable-line camelcase\n        if (row.FieloELR__AnswerOptionText__c === '' ||\n          row.FieloELR__AnswerOptionText__c === null ||\n          row.FieloELR__AnswerOptionText__c === undefined) {\n          row.FieloELR__IsCorrect__c = false;// eslint-disable-line camelcase\n        } else {\n          row.FieloELR__IsCorrect__c = true;// eslint-disable-line camelcase\n        }\n      }\n      if (questionValues.FieloELR__Type__c === 'Matching Options') {\n        if (row.FieloELR__MatchingText__c === '' ||\n          row.FieloELR__MatchingText__c === undefined ||\n          row.FieloELR__MatchingText__c === null) {\n          row.error = BackEndJSSettings.LABELS.MatchingTextRequired;\n        }\n      } else if (row.FieloELR__AnswerOptionText__c === '' ||\n        row.FieloELR__AnswerOptionText__c === null ||\n        row.FieloELR__AnswerOptionText__c === undefined) {\n        row.error = BackEndJSSettings.LABELS.AnswerOptionTextRequired;\n      }\n      [].forEach.call(Object.keys(row), function(field) {\n        if (row[field] === '' ||\n          row[field] === null) {\n          if (row.id) {\n            if (!answerOptionNullFields[row.Id]) {\n              answerOptionNullFields[row.Id] = [];\n            }\n            answerOptionNullFields[row.id].push(field);\n          }\n        }\n        if (deletedIds) {\n          if (deletedIds.indexOf(row.Id) !== -1) {\n            delete answerOptionValues[answerOptionValues.indexOf(row)];\n          }\n        }\n      });\n      if (row.error) {\n        errorMsgs.add(row.error);\n      }\n    });\n\n    [].forEach.call(Object.keys(questionValues), function(field) {\n      if (questionValues[field] === '' ||\n          questionValues[field] === null) {\n        questionNullFields.push(field);\n      }\n    });\n\n    try {\n      if (errorMsgs.size > 0) {\n        this.hasError_ = true;\n        this.throwMessage('error', Array.from(errorMsgs));\n      } else {\n        this.hasError_ = false;\n        console.log(questionValues);\n        Visualforce.remoting.Manager.invokeAction(\n          this.form_.getAttribute('data-save-controller'),\n          questionValues,\n          questionNullFields,\n          answerOptionValues,\n          answerOptionNullFields,\n          deletedIds,\n          this.processRemoteActionResult_.bind(this),\n          {\n            escape: true\n          }\n        );\n      }\n    } catch (e) {\n      console.warn(e);\n    }\n  };\n\n  FieloQuestionWizard.prototype.next_ = function() {\n    this.questionType_ = $('#' + this.formId_)\n      .find('[data-field-name=\"FieloELR__Type__c\"]')[0];\n    this.formIdSufix_ = '';\n    if (this.questionType_) {\n      switch (this.questionType_.FieloFormElement.get('value')) {\n        case 'Multiple Choice':\n          this.formIdSufix_ = 'multiplechoice';\n          this.initMultipleChoiceForm();\n          break;\n        case 'Single Choice':\n          this.formIdSufix_ = 'multiplechoice';\n          this.initSingleChoiceForm();\n          break;\n        case 'Short Answer':\n          this.formIdSufix_ = 'multiplechoice';\n          this.initShortAnswerForm();\n          break;\n        case 'Statement':\n          this.formIdSufix_ = 'multiplechoice';\n          this.initStatementForm();\n          break;\n        case 'Matching Options':\n          this.formIdSufix_ = 'multiplechoice';\n          this.initMatchingForm();\n          break;\n        default:\n          this.formIdSufix_ = 'error';\n          break;\n      }\n      this.questionType_.FieloFormElement.clear();\n      this.questionType_.FieloFormElement.set('value', 'None');\n    }\n    if (this.formIdSufix_ === 'error' ||\n        this.formIdSufix_ === '') {\n      this.throwMessage('error', [BackEndJSSettings.LABELS.ChooseQuestionType]);\n    } else if (!$(this.form_).is(':visible')) {\n      $(this.element_)\n        .find('.' + this.CssClasses_.NEXT + '-' + this.formIdSufix_)[0]\n          .click();\n    }\n  };\n\n  FieloQuestionWizard.prototype.initMultipleChoiceForm = function() {\n    this.form_ = $('#' + this.formId_ + '-' + this.formIdSufix_)[0];\n    var answerOptions = $(this.form_)\n      .find('.' + this.CssClasses_.ANSWER_OPTIONS)[0];\n    if (answerOptions) {\n      if (answerOptions.FieloAnswerOptions) {\n        answerOptions.FieloAnswerOptions.clear();\n      }\n    }\n    var fields = $(this.form_)\n      .find('.' + this.CssClasses_.FORM_ELEMENT);\n    [].forEach.call(fields, function(field) {\n      if (field.FieloFormElement) {\n        field.FieloFormElement.clear();\n      }\n    }, this);\n    this.getFields_();\n    // Undo Single Choice and Statement changes to the form\n    this.radioEnabled_ = false;\n    // Undo Short Answer changes to the form\n    this.showColumn('FieloELR__IsCorrect__c');\n    // Undo Statement changes to the form\n    $($($(this.form_)\n      .find('[data-field-name=\"FieloELR__AnswerOptionText__c\"]')[0])\n        .find('input')[0]).prop('disabled', false);\n    var typeField = $(this.form_)\n      .find('[data-field-name=\"FieloELR__Type__c\"]')[0];\n    if (typeField) {\n      $(typeField).toggle(false);\n      if (typeField.FieloFormElement) {\n        typeField.FieloFormElement.set('value',\n          this.questionType_.FieloFormElement.get('value')\n        );\n        this.formLabel.innerHTML = this.formLabelText;\n        this.formLabel.innerHTML =\n          this.formLabel.innerHTML + ': ' +\n            typeField.FieloFormElement.get('value');\n      }\n    }\n    $($(this.form_)\n      .find('.slds-button--new-answer')[0])\n        .toggle(true);\n    this.toggleRemoveButton(true);\n    this.hideColumn('FieloELR__MatchingText__c');\n    this.hideColumn('FieloELR__Order__c');\n    this.showFormField_('FieloELR__ShuffleAnswerOptions__c');\n  };\n\n  FieloQuestionWizard.prototype.initSingleChoiceForm = function() {\n    this.initMultipleChoiceForm();\n    this.enableRadio();\n  };\n\n  FieloQuestionWizard.prototype.initShortAnswerForm = function() {\n    this.initMultipleChoiceForm();\n    this.hideColumn('FieloELR__IsCorrect__c');\n    this.hideFormField_('FieloELR__ShuffleAnswerOptions__c');\n    this.disableSort();\n  };\n\n  FieloQuestionWizard.prototype.disableSort = function() {\n    if (this.reorderObject) {\n      this.reorderObject.disableSort();\n    }\n  };\n\n  FieloQuestionWizard.prototype.initStatementForm = function() {\n    this.initMultipleChoiceForm();\n    this.enableRadio();\n    this.newAnswer();\n    this.toggleRemoveButton(false);\n    $($(this.form_)\n      .find('.slds-button--new-answer')[0])\n        .toggle(false);\n    var fields = $(this.form_)\n      .find('[data-field-name=\"FieloELR__AnswerOptionText__c\"]');\n    if (fields) {\n      fields[0].FieloFormElement.set('value',\n        BackEndJSSettings.LABELS.True);\n      // $($(fields[0]).find('input')[0]).prop('disabled', true);\n      fields[1].FieloFormElement.set('value',\n        BackEndJSSettings.LABELS.False);\n      // $($(fields[1]).find('input')[0]).prop('disabled', true);\n    }\n    this.hideFormField_('FieloELR__ShuffleAnswerOptions__c');\n    this.disableSort();\n  };\n\n  FieloQuestionWizard.prototype.initMatchingForm = function() {\n    this.initMultipleChoiceForm();\n    this.hideColumn('FieloELR__IsCorrect__c');\n    this.showColumn('FieloELR__MatchingText__c');\n  };\n\n  FieloQuestionWizard.prototype.radioChoice = function(source) {\n    var typeField = $(this.form_)\n      .find('[data-field-name=\"FieloELR__Type__c\"]')[0];\n    if (typeField.FieloFormElement.get('value') ===\n        'Single Choice' ||\n        typeField.FieloFormElement.get('value') ===\n        'Statement') {\n      var isCorrectFields = $(this.form_)\n        .find('table')\n          .find('[data-field-name=\"FieloELR__IsCorrect__c\"]')\n            .not(source.currentTarget);\n\n      [].forEach.call(isCorrectFields, function(isCorrect) {\n        isCorrect.FieloFormElement.set('value',\n            source.currentTarget.FieloFormElement.get('value') ?\n              false :\n              isCorrect.FieloFormElement.get('value')\n          );\n      }, this);\n    }\n  };\n\n  FieloQuestionWizard.prototype.enableRadio = function() {\n    // add listener only once\n    if (!this.radioEnabled_) {\n      $($(this.form_)\n        .find('table')\n          .find('[data-field-name=\"FieloELR__IsCorrect__c\"]')[0])\n            .on('change', this.radioChoice.bind(this));\n      $(this.form_)\n        .find('table')\n          .find('[data-field-name=\"FieloELR__IsCorrect__c\"]')[0]\n            .FieloFormElement.set('value', true);\n    }\n    this.radioEnabled_ = true;\n  };\n\n  FieloQuestionWizard.prototype.getFields_ = function() {\n    var form = this.form_ === null || this.form_ === undefined ?\n      $('#' + this.formId_)[0] :\n      this.form_;\n\n    var questionFields = $($(form)\n      .find('.' + this.CssClasses_.SECTION_PANEL)[0])\n        .find('.' + this.CssClasses_.FORM_ELEMENT);\n\n    this.elements_ = [];\n    [].forEach.call(questionFields, function(field) {\n      this.addField(field.FieloFormElement.get('fieldName'));\n      this.elements_[field.FieloFormElement.get('fieldName')] = field;\n    }, this);\n\n    if (this.elements_.FieloELR__ShuffleAnswerOptions__c) {\n      this.elements_.FieloELR__ShuffleAnswerOptions__c\n        .addEventListener('change',\n          this.changeForm.bind(this));\n    }\n  };\n\n  FieloQuestionWizard.prototype.changeForm = function() {\n    var questionType_ =\n      $(this.form_)\n        .find('[data-field-name=\"FieloELR__Type__c\"]')[0]\n          .FieloFormElement.get('value');\n    switch (questionType_) {\n      case 'Statement':\n      case 'Short Answer':\n        this.reorderObject.disableSort();\n        break;\n      default:\n        var shuffleAnswerOptions =\n          $(this.form_)\n            .find('[data-field-name=\"FieloELR__ShuffleAnswerOptions__c\"]')[0]\n              .FieloFormElement.get('value');\n        if (shuffleAnswerOptions) {\n          this.reorderObject.disableSort();\n        } else {\n          this.reorderObject.enableSort();\n        }\n    }\n  };\n\n  FieloQuestionWizard.prototype.toggleRemoveButton = function(toggleValue) {\n    var removeBtns = $(this.form_)\n      .find('.slds-button--delete');\n    [].forEach.call(removeBtns, function(button) {\n      $(button).toggle(toggleValue);\n    });\n  };\n\n  FieloQuestionWizard.prototype.removeColumn = function(title) {\n    var answerTextFieldLabel = $(this.form_)\n      .find('[title=\"' + title + '\"]')[0];\n    if (answerTextFieldLabel) {\n      var index = $(answerTextFieldLabel)\n        .closest('th').index();\n      $(answerTextFieldLabel).closest('th').remove();\n      var items = $(this.form_)\n        .find('.' + this.CssClasses_.ANSWER_OPTIONS_ITEM);\n      [].forEach.call(items, function(item) {\n        $(item.cells[index]).remove();\n      });\n    }\n  };\n\n  FieloQuestionWizard.prototype.hideColumn = function(fieldName) {\n    var items = $(this.form_)\n      .find('.' + this.CssClasses_.MODEL);\n    var currentField = null;\n\n    [].forEach.call(items, function(item) {\n      currentField = $(item)\n        .find('[data-field-name=\"' + fieldName + '\"]')[0];\n      if (!currentField) {\n        currentField = $(item)\n          .find('[data-field=\"' + fieldName + '\"]')[0];\n      }\n      if (currentField) {\n        $(currentField).toggle(false);\n        $(currentField).closest('td').toggle(false);\n      }\n    }, this);\n\n    if (currentField) {\n      var index = $(currentField).closest('td').index();\n      var column = $(currentField).closest('table')\n        .find('thead')\n          .find('tr')[0].cells[index];\n      $(column).toggle(false);\n    }\n  };\n\n  FieloQuestionWizard.prototype.showColumn = function(fieldName) {\n    var items = $(this.form_)\n      .find('.' + this.CssClasses_.MODEL);\n    var currentField = null;\n\n    [].forEach.call(items, function(item) {\n      currentField = $(item)\n        .find('[data-field-name=\"' + fieldName + '\"]')[0];\n      if (!currentField) {\n        currentField = $(item)\n          .find('[data-field=\"' + fieldName + '\"]')[0];\n      }\n      if (currentField) {\n        $(currentField).toggle(true);\n        $(currentField).closest('td').toggle(true);\n      }\n    }, this);\n\n    if (currentField) {\n      var index = $(currentField).closest('td').index();\n      var column = $(currentField).closest('table')\n        .find('thead')\n          .find('tr')[0].cells[index];\n      $(column).toggle(true);\n    }\n  };\n\n  FieloQuestionWizard.prototype.getModule_ = function() {\n    var fieldValue =\n      this.parameters_.FieloELR__Module__c;\n    if (fieldValue) {\n      var moduleFields = 'FieloELR__PenaltyMode__c';\n      moduleFields += ',FieloELR__WeightedQuestions__c';\n      moduleFields += ',FieloELR__ShuffleQuestions__c';\n      Visualforce.remoting.Manager.invokeAction(\n        this.form_.getAttribute('data-retrieve-controller'),\n        'FieloELR__Module__c',\n        fieldValue,\n        moduleFields,\n        this.moduleRetrieveHandler_.bind(this),\n        {escape: true}\n      );\n    }\n  };\n\n  FieloQuestionWizard.prototype.moduleRetrieveHandler_ = function(result) {\n    var penaltyMode =\n      result.FieloELR__PenaltyMode__c;\n    var weightedQuestions =\n      result.FieloELR__WeightedQuestions__c;\n    var shuffleQuestions =\n      result.FieloELR__ShuffleQuestions__c;\n    if (penaltyMode === 'None') {\n      this.hideFormField_(\n        'FieloELR__PenaltyPerAttempt__c',\n        'FieloELR__IncorrectWeight__c');\n    } else if (penaltyMode === 'Percent Decrease') {\n      this.hideFormField_('FieloELR__IncorrectWeight__c');\n    } else if (penaltyMode === 'Negative Weight') {\n      this.hideFormField_('FieloELR__PenaltyPerAttempt__c');\n    }\n    if (!weightedQuestions) {\n      this.hideFormField_('FieloELR__CorrectWeight__c');\n    }\n    if (shuffleQuestions) {\n      this.hideFormField_('FieloELR__Order__c');\n    }\n    this.changeForm();\n  };\n\n  FieloQuestionWizard.prototype.hideFormField_ = function() {\n    [].forEach.call(arguments, function(fieldName) {\n      var field = $(this.form_)\n          .find('[data-field-name=\"' + fieldName + '\"]')[0];\n      if (field) {\n        $(field).toggle(false);\n      }\n    }, this);\n  };\n\n  FieloQuestionWizard.prototype.showFormField_ = function() {\n    [].forEach.call(arguments, function(fieldName) {\n      var field = $(this.form_)\n          .find('[data-field-name=\"' + fieldName + '\"]')[0];\n      if (field) {\n        $(field).toggle(true);\n      }\n    }, this);\n  };\n\n  FieloQuestionWizard.prototype.endRetrieve = function() {\n    this.getModule_();\n  };\n\n  /**\n  * Process Remote Action\n  */\n\n  FieloQuestionWizard.prototype.processRemoteActionResult_ = function(result) {\n    var notify = fielo.util.notify.create();\n    notify.FieloNotify.addMessages([\n      result.messagesSet\n    ]);\n    if (\n      result.messages[0].severity &&\n      result.messages[0].severity === 'ERROR'\n    ) {\n      notify.FieloNotify.setTheme('error');\n    } else {\n      notify.FieloNotify.setTheme('success');\n      window.location.href = this.getNewURL();\n      location.reload();\n    }\n    fielo.util.spinner.FieloSpinner.hide();\n    notify.FieloNotify.show();\n  };\n\n  FieloQuestionWizard.prototype.getNewURL = function() {\n    var url = window.location.href;\n    if (this.isSaveAndNew) {\n      if (url.substr(-1) === '#') {\n        url += this.formId_;\n      } else {\n        url += '#' + this.formId_;\n      }\n    }\n    return url;\n  };\n\n  FieloQuestionWizard.prototype.hideButtons_ = function() {\n    $($(this.element_)\n      .find('.' + this.CssClasses_.NEXT_MULTIPLE_CHOICE)[0])\n      .toggle(false);\n  };\n\n  FieloQuestionWizard.prototype.newAnswer = function() {\n    if (this.form_) {\n      $(this.form_)\n        .find('.slds-button--new-answer')[0]\n          .click();\n    }\n  };\n\n  FieloQuestionWizard.prototype.deleteAnswer = function(index) {\n    if (this.form_) {\n      if ($(this.form_)\n        .find('.slds-button--delete')[index]) {\n        $(this.form_)\n          .find('.slds-button--delete')[index]\n            .click();\n      }\n    }\n  };\n\n  FieloQuestionWizard.prototype.addField = function(fieldName) {\n    if (!this.questionFields_) {\n      this.questionFields_ = new Set();\n    }\n    this.questionFields_.add(fieldName);\n  };\n\n  FieloQuestionWizard.prototype.getUrlParameter = function(sParam) {\n    var sPageURL = decodeURIComponent(window.location.search.substring(1));\n    var sURLVariables = sPageURL.split('&');\n    var sParameterName;\n    var i;\n\n    for (i = 0; i < sURLVariables.length; i++) {\n      sParameterName = sURLVariables[i].split('=');\n      if (sParameterName[0] === sParam) {\n        return sParameterName[1] === undefined ? true : sParameterName[1];\n      }\n    }\n  };\n\n  FieloQuestionWizard.prototype.getModals = function() {\n    this.element_\n      .appendChild(\n        document.getElementById(this.element_.getAttribute('form-id')));\n    this.element_\n      .appendChild(\n        document.getElementById(\n          this.element_.getAttribute('form-id') + '-multiplechoice'));\n  };\n\n  /**\n  * Inicializa el elemento\n  */\n  FieloQuestionWizard.prototype.init = function() {\n    if (this.element_) {\n      this.getModals();\n      this.element_.getElementsByClassName(this.CssClasses_.NEXT)[0]\n        .addEventListener('click', this.next_.bind(this));\n      this.reorderObject =\n        $('.' + this.CssClasses_.ANSWER_OPTIONS)[0]\n          .FieloRecentReorder;\n      this.formId_ =\n        this.element_.getAttribute('form-id');\n      this.formLabel =\n        $('#' + this.formId_ + '-' + this.Constant_.FORM_ID_SUFIX +\n          '-headerModal')[0];\n      this.formLabelText = this.formLabel.innerHTML;\n      if (this.reorderObject) {\n        this.reorderObject.disableReorder = true;\n      }\n      this.hideButtons_();\n\n      this.multipleChoiceform_ =\n        $('#' + this.formId_ + '-multiplechoice')[0];\n      $(this.multipleChoiceform_)\n        .find('.' + this.CssClasses_.SAVE)[0]\n          .addEventListener('click',\n            this.saveOnly_.bind(this));\n      $(this.multipleChoiceform_)\n        .find('.' + this.CssClasses_.SAVE_NEW)[0]\n          .addEventListener('click',\n            this.saveAndNew_.bind(this));\n      this.form_ = this.multipleChoiceform_;\n      this.getFields_();\n      this.hideFormField_('FieloELR__IncorrectWeight__c',\n        'FieloELR__CorrectWeight__c',\n        'FieloELR__PenaltyPerAttempt__c');\n\n      var hash = window.location.hash;\n      if (hash) {\n        console.log(hash);\n        var button =\n          $('[data-action=\"' + hash.replace('#', '') + '\"]')[0];\n        console.log(button);\n        if (button) {\n          window.location.href =\n            window.location.href.replace(hash, '#');\n          button.click();\n        }\n      }\n    }\n  };\n\n  // El componente se registra por si solo.\n  // Asume que el componentHandler esta habilitado en el scope global\n  fielo.helper.register({\n    constructor: FieloQuestionWizard,\n    classAsString: 'FieloQuestionWizard',\n    cssClass: 'fielosf-question-wizard',\n    widget: true\n  });\n})();\n","(function() {\n  'use strict';\n\n  /**\n   * @description Controlador para el formulario FieloAnswerOptions.\n   * Permite el envío del formulario\n   * Implementa los patrones de diseño definidos por MDL en\n   * {@link https://github.com/jasonmayes/mdl-component-design-pattern}\n   *\n   * @version 1\n   * @author Hugo Gómez Mac Gregor <hugo.gomez@fielo.com>\n   * @param {HTMLElement} element - Elemento que será mejorado.\n   * @constructor\n   */\n  var FieloAnswerOptions = function FieloAnswerOptions(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloAnswerOptions = FieloAnswerOptions;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloAnswerOptions.prototype.Constant_ = {\n    DATA_UPGRADED: 'data-upgraded',\n    DATA_CONTROLLER: 'data-controller-element',\n    DATA_FIELD_NAME: 'data-field-name',\n    DATA_FIELD_TABLE: 'data-field',\n    OBJECT_TYPE: 'FieloELR__AnswerOption__c'\n\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas poPr este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloAnswerOptions.prototype.CssClasses_ = {\n    ITEM: 'fielosf-answer-options__item',\n    CONTAINER: 'fielosf-answer-options__container',\n    DELETE: 'slds-button--delete',\n    NEW: 'slds-button--new-answer',\n    FORM_ELEMENT: 'slds-form-element',\n    OUTPUT_ELEMENT: 'fielosf-output',\n    ELEMENT_LABEL: 'slds-form-element__label',\n    PILL_REMOVE: 'slds-pill__remove'\n\n  };\n\n  FieloAnswerOptions.prototype.initItem_ = function(answerOptionItem) {\n    answerOptionItem.deleteBtn_ =\n      answerOptionItem.getElementsByClassName(this.CssClasses_.DELETE)[0];\n    answerOptionItem.deleteBtn_.addEventListener(\n      'click',\n      this.deleteItem_.bind(this, answerOptionItem)\n    );\n    this.recentReorder_ = $(answerOptionItem)\n        .closest('.fielosf-recent-reorder')[0];\n    if (this.recentReorder_) {\n      this.recentReorder_.FieloRecentReorder.order();\n    }\n    var formElementFields = $(answerOptionItem)\n      .find('.slds-form-element');\n    var label = null;\n    if (formElementFields) {\n      [].forEach.call(formElementFields, function(field) {\n        if (field.closest('td')) {\n          if (!$(field).closest('td')\n            .hasClass('ui-state-disabled')) {\n            $(field).closest('td').addClass('ui-state-disabled');\n          }\n        }\n        label = $(field)\n          .find('.' + this.CssClasses_.ELEMENT_LABEL)[0];\n        if (label) {\n          $(label).toggle(false);\n        }\n      }, this);\n    }\n  };\n\n  FieloAnswerOptions.prototype.deleteItem_ = function(answerOptionItem) {\n    var answerOptionId =\n      answerOptionItem.getAttribute('data-record-id');\n    if (answerOptionId) {\n      if (!this.deletedItems) {\n        this.deletedItems = [];\n      }\n      this.deletedItems.push(answerOptionId);\n    }\n    if (this.answerOptionItems_.length > 1) {\n      answerOptionItem.remove();\n      if (this.recentReorder_) {\n        this.recentReorder_.FieloRecentReorder.order();\n      }\n    }\n  };\n\n  FieloAnswerOptions.prototype.clearItem_ = function(item) {\n    [].forEach.call(item.getElementsByClassName(this\n        .CssClasses_.FORM_ELEMENT), function(element) {\n      if (element.FieloFormElement) {\n        element.FieloFormElement.clear();\n      }\n    }, this);\n    item.setAttribute('data-record-id', '');\n  };\n\n  FieloAnswerOptions.prototype.newAnswerOptionItem_ = function() {\n    this.model_ = $(this.answerOptionItems_[0])\n      .clone(true)[0];\n    var answerOptionItem = $(this.model_).clone(true)[0];\n    $(this.container_).append(answerOptionItem);\n    [].forEach.call(\n      answerOptionItem\n        .querySelectorAll('[' + this.Constant_.DATA_UPGRADED + ']'),\n      function(element, position) {\n        element.removeAttribute(this.Constant_.DATA_UPGRADED);\n        element.id = String(element.id + '-' + this.answerOptionItems_.length);\n        var dataController = element\n          .getAttribute(this.Constant_.DATA_CONTROLLER) || null;\n        if (dataController && position !== 0) {\n          element.setAttribute(\n            this.Constant_.DATA_CONTROLLER,\n            String(dataController + '-' + this.answerOptionItems_.length)\n          );\n        }\n        componentHandler.upgradeElement(element);\n      },\n        this\n    );\n    this.initItem_(answerOptionItem);\n    this.clearItem_(answerOptionItem);\n  };\n\n  /**\n   *\n   * Getter y Setters\n   *\n   */\n\n  /**\n   * Retorna la lista de items\n   * @return {Array | Object} - Lista de objetos (sObjects)\n   */\n  FieloAnswerOptions.prototype.get = function() {\n    var sObjectList = [];\n    var fields = null;\n    var fieldName = null;\n    [].forEach.call(this.answerOptionItems_, function(item) {\n      var sObject = {};\n      fields = item.getElementsByClassName(this\n          .CssClasses_.FORM_ELEMENT);\n      [].forEach.call(fields, function(field) {\n        var sObjectValue = field.FieloFormElement.get('value');\n        fieldName = field.getAttribute(this.Constant_.DATA_FIELD_NAME);\n        sObject[fieldName] = sObjectValue;\n      }, this);\n\n      fields = item.getElementsByClassName(this\n          .CssClasses_.OUTPUT_ELEMENT);\n      [].forEach.call(fields, function(field) {\n        var sObjectValue = field.innerHTML;\n        fieldName = field.getAttribute(this.Constant_.DATA_FIELD_TABLE);\n        sObject[fieldName] = sObjectValue;\n      }, this);\n\n      if (item.getAttribute('data-record-id') !== '') {\n        sObject.Id = item.getAttribute('data-record-id');\n      }\n      sObjectList.push(sObject);\n    }, this);\n    return sObjectList;\n  };\n\n  FieloAnswerOptions.prototype.set = function() {\n    return console.log('recibe lista de objetos');\n  };\n\n  FieloAnswerOptions.prototype.clear = function() {\n    this.newAnswerOptionItem_();\n    var items = this.element_.getElementsByClassName(this.CssClasses_.DELETE);\n    while (items.length > 1) {\n      items[0].click();\n    }\n    if (this.recentReorder_) {\n      this.recentReorder_.FieloRecentReorder.order();\n    }\n    this.deletedItems = null;\n  };\n\n  /**\n   * Inicializa el elemento\n   */\n  FieloAnswerOptions.prototype.init = function() {\n    if (this.element_) {\n      this.container_ =\n        this.element_.getElementsByClassName(this.CssClasses_.CONTAINER)[0];\n      this.answerOptionItems_ =\n        this.element_.getElementsByClassName(this.CssClasses_.ITEM);\n      this.model_ = this.answerOptionItems_[0].cloneNode(true);\n      this.newBtn_ =\n        this.element_.getElementsByClassName(this.CssClasses_.NEW)[0];\n      if (this.newBtn_) {\n        this.newBtn_\n          .addEventListener('click', this.newAnswerOptionItem_.bind(this));\n      }\n      [].forEach.call(this.answerOptionItems_, this.initItem_.bind(this));\n    }\n  };\n\n  fielo.util.register({\n    constructor: FieloAnswerOptions,\n    classAsString: 'FieloAnswerOptions',\n    cssClass: 'fielosf-answer-options',\n    widget: true\n  });\n})();\n\n"]}